<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="vue.js" type="text/javascript"></script>
</head>
<body>
<div id="app">
    <div v-my-directive:hello.a.b="msg"></div>
    <div v-demo="{color:'blue',text:'HI'}"></div> <!--对象字面量-->
    <div v-demo2.literal="foo bar qpp"></div> <!--字面修饰符-->
    <ele-directive></ele-directive><!--元素指令-->
    <div v-example="a++" a="rui"></div>
</div>

<script>
    Vue.directive("my-directive",{
        bind:function () {
            console.log('demo bound!')
        },
        update:function (value) {
            this.el.innerHTML="name-"+this.name+"<br>"+
            "expression-"+this.expression+"<br>"+
            "argument-"+this.arg+"<br>"+
            "modifiles-"+JSON.stringify(this.modifiers)+"<br>"+
            "value-"+value;
        },
        /*name-my-directive
        expression-msg
        argument-hello
        modifiles-{"b":true,"a":true}
        value-good*/
        unbind:function () {
            
        }
    });
    Vue.directive("demo",function (value) {
        console.log(value.color)
        console.log(value.text)
    });
    Vue.directive("demo2",function (value) {
        console.log(value)//foo bar qpp
    });
    Vue.elementDirective("ele-directive",{
        bind:function() {
            console.log("操纵this.el")
        }
    });
    Vue.directive("example",{
        params:["a"],
        acceptStatement: true,
        bind:function(){
            console.log("---------------")
            console.log(this.params.a)
        },
        update:function (fn) {
            console.log(fn) // 传入值是一个函数
        }
    })
    var demo=new Vue({
        el:"#app",
        data:{
            msg:"good"
        }
    })
</script>
</body>
</html>