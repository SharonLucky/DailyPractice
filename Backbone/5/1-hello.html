<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button id="check">点击报道</button>
<ul id="world-list"></ul>
<script src="http://the5fireblog.b0.upaiyun.com/staticfile/jquery-1.10.2.js"></script>
<script src="http://the5fireblog.b0.upaiyun.com/staticfile/underscore.js"></script>
<script src="http://the5fireblog.b0.upaiyun.com/staticfile/backbone.js"></script>
<script>
    (function ($) {
        var World=Backbone.Model.extend({
           name:null
        });
        var Worlds=Backbone.Collection.extend({
            initialize:function (models,options) {
               // console.log(options.view)
               // console.log(options)
               // console.log(models)
                this.bind("add",options.view.addOneWorld)
            }
        });
        var AppView=Backbone.View.extend({
            el:$('body'),
            initialize:function(){
                this.worlds=new Worlds(null,{view:this})
            },
            events:{
                'click #check':'checkIn'
            },
            checkIn:function(){
                var world_name=prompt("what your name?");
                if(world_name==''){
                    world_name="未知"
                }else{
                    var world=new World({name:world_name});
                    this.worlds.add(world);
                }
            },
            addOneWorld:function (model) {
                //console.log(34)
                $('#world-list').append('<li>这里是来自 <b>'+model.get('name')+'</b> 星球的问候：hello world！</li>')
            }
        })
        var appView=new AppView();
    })(jQuery)
</script>
</body>
</html>